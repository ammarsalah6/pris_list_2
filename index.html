<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ø£Ø³Ø¹Ø§Ø± - Ø§Ù„Ù…ÙƒØ³Ø±Ø§Øª ÙˆØ§Ù„Ø­Ù„ÙˆÙŠØ§Øª</title>
    <link href="https://fonts.googleapis.com/css2?family=Tajawal:wght@400;500;700&family=Amiri:wght@400;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    
    <style>
        :root {
            /* Ø£Ù„ÙˆØ§Ù† Ù…Ø³ØªÙˆØ­Ø§Ø© Ù…Ù† Ø§Ù„Ù„ÙˆØ¬Ùˆ ÙˆÙ…Ù†ØªØ¬Ø§Øª Ø§Ù„Ù…ÙƒØ³Ø±Ø§Øª/Ø§Ù„Ù‚Ù‡ÙˆØ© */
            --primary-dark: #3E2723;   /* Ø¨Ù†ÙŠ ØºØ§Ù…Ù‚ (Ù„ÙˆÙ† Ø§Ù„Ù‚Ù‡ÙˆØ©/Ø§Ù„Ø´ÙŠÙƒÙˆÙ„Ø§ØªØ©) */
            --primary-light: #5D4037;  /* Ø¨Ù†ÙŠ Ù…ØªÙˆØ³Ø· */
            --accent-gold: #C67C00;    /* Ø°Ù‡Ø¨ÙŠ (Ù„Ù„Ø£Ø³Ø¹Ø§Ø± ÙˆØ§Ù„ØªÙ…ÙŠÙŠØ²) */
            --bg-cream: #FFF8E1;       /* ÙƒØ±ÙŠÙ…ÙŠ (Ø®Ù„ÙÙŠØ© Ø§Ù„ÙˆØ±Ù‚) */
            --text-main: #212121;      /* Ù„ÙˆÙ† Ø§Ù„Ø®Ø· Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠ */
            --border-color: #D7CCC8;   /* Ù„ÙˆÙ† Ø§Ù„Ø­Ø¯ÙˆØ¯ Ø§Ù„ÙØ§ØªØ­ */
        }

        body {
            font-family: 'Tajawal', sans-serif;
            background-color: #ECEFF1;
            /* Ù†Ù‚Ø´Ø© Ø®ÙÙŠÙØ© Ù„Ù„Ø®Ù„ÙÙŠØ© */
            background-image: url("https://www.transparenttextures.com/patterns/cream-paper.png");
            margin: 0;
            padding: 0;
            color: var(--text-main);
        }

        /* Ø­Ø§ÙˆÙŠØ© Ø§Ù„Ù…Ù†ÙŠÙˆ (Ø´ÙƒÙ„ Ø§Ù„ÙƒØªØ§Ø¨) */
        .menu-book {
            max-width: 900px;
            margin: 40px auto 100px auto;
            background-color: var(--bg-cream);
            box-shadow: 0 20px 40px rgba(0,0,0,0.2);
            border-radius: 8px;
            overflow: hidden;
            position: relative;
            border-left: 1px solid #ccc;
            border-right: 12px solid var(--primary-dark); /* ÙƒØ¹Ø¨ Ø§Ù„ÙƒØªØ§Ø¨ */
        }

        /* Ø±Ø£Ø³ Ø§Ù„ØµÙØ­Ø© ÙˆØ§Ù„Ù„ÙˆØ¬Ùˆ */
        header {
            text-align: center;
            padding: 40px 20px;
            background: linear-gradient(to bottom, #fff, var(--bg-cream));
            border-bottom: 2px dashed var(--primary-light);
        }

        .logo-container img {
            max-width: 180px;
            height: auto;
            filter: drop-shadow(0 4px 6px rgba(0,0,0,0.1));
            margin-bottom: 15px;
        }

        header h1 {
            font-family: 'Amiri', serif;
            font-size: 2.5rem;
            color: var(--primary-dark);
            margin: 10px 0;
        }

        header p {
            color: var(--primary-light);
            font-size: 1.1rem;
        }

        /* Ù…Ø±Ø¨Ø¹ Ø§Ù„Ø¨Ø­Ø« */
        .search-container {
            position: sticky;
            top: 0;
            background: var(--bg-cream);
            padding: 15px 30px;
            z-index: 10;
            box-shadow: 0 4px 10px rgba(0,0,0,0.05);
            display: flex;
            justify-content: center;
        }

        .search-box {
            position: relative;
            width: 100%;
            max-width: 600px;
        }

        .search-box input {
            width: 100%;
            padding: 15px 50px 15px 20px;
            border: 2px solid var(--border-color);
            border-radius: 50px;
            font-family: 'Tajawal', sans-serif;
            font-size: 1rem;
            outline: none;
            transition: 0.3s;
            background: #fff;
        }

        .search-box input:focus {
            border-color: var(--accent-gold);
            box-shadow: 0 0 15px rgba(198, 124, 0, 0.2);
        }

        .search-box i {
            position: absolute;
            right: 20px;
            top: 50%;
            transform: translateY(-50%);
            color: var(--primary-light);
        }

        /* Ù…Ù†Ø·Ù‚Ø© Ø§Ù„Ù…Ø­ØªÙˆÙ‰ */
        #menu-content {
            padding: 30px;
            min-height: 400px;
        }

        /* ØªÙ†Ø³ÙŠÙ‚ Ø§Ù„Ø£Ù‚Ø³Ø§Ù… */
        .category-section {
            margin-bottom: 40px;
        }

        .category-title {
            font-family: 'Amiri', serif;
            font-size: 1.8rem;
            color: var(--primary-dark);
            border-bottom: 2px solid var(--accent-gold);
            display: inline-block;
            margin-bottom: 20px;
            padding-bottom: 5px;
        }

        /* ØªÙ†Ø³ÙŠÙ‚ Ø§Ù„Ø´Ø¨ÙƒØ© Ù„Ù„Ø£ØµÙ†Ø§Ù */
        .items-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
            gap: 20px;
        }

        .menu-item {
            background: #fff;
            padding: 15px;
            border-radius: 8px;
            border: 1px solid #f0f0f0;
            display: flex;
            justify-content: space-between;
            align-items: center;
            transition: transform 0.2s, box-shadow 0.2s;
        }

        .menu-item:hover {
            transform: translateY(-3px);
            box-shadow: 0 5px 15px rgba(0,0,0,0.08);
            border-color: var(--accent-gold);
        }

        .item-name {
            font-weight: 600;
            font-size: 1.1rem;
            color: var(--text-main);
            line-height: 1.4;
        }

        .item-price {
            font-family: 'Amiri', serif;
            font-weight: bold;
            font-size: 1.3rem;
            color: var(--accent-color);
            background-color: var(--bg-cream);
            padding: 5px 12px;
            border-radius: 20px;
            border: 1px solid var(--border-color);
            color: var(--primary-dark);
            white-space: nowrap;
            margin-right: 15px;
        }

        .currency {
            font-size: 0.8rem;
            margin-right: 3px;
        }

        /* Ø±Ø³Ø§Ø¦Ù„ Ø§Ù„ØªØ­Ù…ÙŠÙ„ ÙˆØ§Ù„Ø®Ø·Ø£ */
        .loader {
            text-align: center;
            font-size: 1.2rem;
            color: var(--primary-light);
            margin-top: 50px;
        }
        
        .error-msg {
            text-align: center;
            color: #d32f2f;
            background: #ffebee;
            padding: 15px;
            border-radius: 5px;
            margin: 20px;
        }

        /* Ø´Ø±ÙŠØ· Ø§Ù„Ø³ÙˆØ´ÙŠØ§Ù„ Ù…ÙŠØ¯ÙŠØ§ */
        .social-bar {
            position: fixed;
            bottom: 0;
            left: 0;
            width: 100%;
            background: var(--primary-dark);
            padding: 15px;
            text-align: center;
            z-index: 1000;
            box-shadow: 0 -2px 10px rgba(0,0,0,0.2);
        }

        .social-bar a {
            color: #D7CCC8;
            font-size: 1.5rem;
            margin: 0 20px;
            transition: 0.3s;
        }

        .social-bar a:hover {
            color: var(--accent-gold);
            transform: scale(1.2);
        }

        /* Ø§Ù„ØªØ¬Ø§ÙˆØ¨ Ù…Ø¹ Ø§Ù„Ù…ÙˆØ¨Ø§ÙŠÙ„ */
        @media (max-width: 600px) {
            .menu-book {
                margin: 0;
                border-right: none;
                border-radius: 0;
                width: 100%;
            }
            .items-grid {
                grid-template-columns: 1fr;
            }
            header h1 {
                font-size: 2rem;
            }
        }
    </style>
</head>
<body>

    <div class="menu-book">
        <header>
            <div class="logo-container">
                <img src="logo.png" alt="Ø´Ø¹Ø§Ø± Ø§Ù„Ù…Ø­Ù„" onerror="this.style.display='none'">
            </div>
            <h1>Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ø£ØµÙ†Ø§Ù</h1>
            <p>Ø£Ø¬ÙˆØ¯ Ø£Ù†ÙˆØ§Ø¹ Ø§Ù„Ù…ÙƒØ³Ø±Ø§ØªØŒ Ø§Ù„ÙŠØ§Ù…ÙŠØ´ØŒ ÙˆÙ…Ø³ØªÙ„Ø²Ù…Ø§Øª Ø§Ù„Ø­Ù„ÙˆÙŠØ§Øª</p>
        </header>

        <div class="search-container">
            <div class="search-box">
                <i class="fas fa-search"></i>
                <input type="text" id="searchInput" placeholder="Ø§Ø¨Ø­Ø« Ø¹Ù† ØµÙ†Ù (Ù…Ø«Ø§Ù„: ÙƒØ§Ø¬ÙˆØŒ Ø¨Ù†Ø¯Ù‚)...">
            </div>
        </div>

        <div id="menu-content">
            <div class="loader">
                <i class="fas fa-spinner fa-spin"></i> Ø¬Ø§Ø±ÙŠ ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ù‚Ø§Ø¦Ù…Ø© Ù…Ù† Ø¬ÙˆØ¬Ù„ Ø´ÙŠØªØ³...
            </div>
        </div>
    </div>

    <div class="social-bar">
        <a href="#"><i class="fab fa-facebook-f"></i></a>
        <a href="#"><i class="fab fa-whatsapp"></i></a>
        <a href="#"><i class="fab fa-instagram"></i></a>
        <a href="t<el:01000000000"><i class="fas fa-phone-alt"></i></a>
    </div>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/PapaParse/5.3.0/papaparse.min.js"></script>

    <script>
        // **********************************************************
        // Ù‡Ø§Ù… Ø¬Ø¯Ø§Ù‹: Ø¶Ø¹ Ø±Ø§Ø¨Ø· Ø§Ù„Ø¬ÙˆØ¬Ù„ Ø´ÙŠØª CSV Ù‡Ù†Ø§
        // **********************************************************
        const sheetURL = 'https://docs.google.com/spreadsheets/d/e/2PACX-1vRgbYRoL8GGwdIFjwzWvtNh43_ylOoYDRCst4i-pJUjPOwT813rVkCCGeoYFKfSPnXcHBAb094Z1SF8/pub?gid=1174703353&single=true&output=csv';

        const menuContainer = document.getElementById('menu-content');
        const searchInput = document.getElementById('searchInput');
        let allData = [];

        // Ø¯Ø§Ù„Ø© Ù…Ø³Ø§Ø¹Ø¯Ø© Ù„Ù„Ø¹Ø«ÙˆØ± Ø¹Ù„Ù‰ Ø§Ø³Ù… Ø§Ù„Ù…ÙØªØ§Ø­ Ø§Ù„ØµØ­ÙŠØ­ (Ø§Ù„Ø¹Ù†ÙˆØ§Ù†) Ø¨ØºØ¶ Ø§Ù„Ù†Ø¸Ø± Ø¹Ù† Ø§Ù„Ù…Ø³Ø§ÙØ§Øª Ø§Ù„Ø²Ø§Ø¦Ø¯Ø©
        function findKey(item, target) {
            for (const key in item) {
                if (key && key.trim() === target) {
                    return key;
                }
            }
            return null;
        }

        function fetchMenu() {
            if (sheetURL.includes("Ø¶Ø¹_Ø±Ø§Ø¨Ø·")) {
                menuContainer.innerHTML = `
                    <div class="error-msg">
                        <h3>ØªÙ†Ø¨ÙŠÙ‡ Ù‡Ø§Ù…</h3>
                        <p>ÙŠØ±Ø¬Ù‰ ÙØªØ­ Ù…Ù„Ù Ø§Ù„ÙƒÙˆØ¯ ÙˆÙˆØ¶Ø¹ Ø±Ø§Ø¨Ø· CSV Ø§Ù„Ø®Ø§Øµ Ø¨Ø¬ÙˆØ¬Ù„ Ø´ÙŠØª ÙÙŠ Ø§Ù„Ù…ÙƒØ§Ù† Ø§Ù„Ù…Ø®ØµØµ.</p>
                    </div>`;
                return;
            }

            Papa.parse(sheetURL, {
                download: true,
                header: true,
                skipEmptyLines: true,
                complete: function(results) {
                    allData = results.data;
                    
                    // Ø·Ø¨Ø§Ø¹Ø© Ø±Ø¤ÙˆØ³ Ø§Ù„Ø£Ø¹Ù…Ø¯Ø© Ø§Ù„ÙØ¹Ù„ÙŠØ© Ù„Ù„ØªØ´Ø®ÙŠØµ (Ø³ØªØ¸Ù‡Ø± ÙÙŠ Console Ø§Ù„Ù…ØªØµÙØ­)
                    if (allData.length > 0) {
                        console.log("Actual CSV Headers Found:", Object.keys(allData[0]));
                    }

                    renderMenu(allData);
                },
                error: function(err) {
                    menuContainer.innerHTML = `<div class="error-msg">Ø­Ø¯Ø« Ø®Ø·Ø£ Ø£Ø«Ù†Ø§Ø¡ ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª. ØªØ£ÙƒØ¯ Ù…Ù† ØµØ­Ø© Ø§Ù„Ø±Ø§Ø¨Ø· Ø£Ùˆ Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ø§Ù„Ù…Ø´Ø§Ø±ÙƒØ©.<br>${err.message}</div>`;
                }
            });
        }

        function renderMenu(data) {
            menuContainer.innerHTML = "";
            
            if (data.length === 0) {
                menuContainer.innerHTML = "<p style='text-align:center'>Ù„Ø§ ØªÙˆØ¬Ø¯ Ø£ØµÙ†Ø§Ù Ù„Ù„Ø¹Ø±Ø¶ Ø­Ø§Ù„ÙŠØ§Ù‹ (Ù‚Ø¯ ØªÙƒÙˆÙ† Ø§Ù„Ù…Ø´ÙƒÙ„Ø© ÙÙŠ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø£Ùˆ Ø§Ù„Ø±Ø§Ø¨Ø·)</p>";
                return;
            }

            const categories = {};
            let itemsCount = 0; // Ù„Ø¹Ø¯ Ø§Ù„Ø£ØµÙ†Ø§Ù Ø§Ù„ØªÙŠ ØªÙ… ØªØ­Ù…ÙŠÙ„Ù‡Ø§ Ø¨Ù†Ø¬Ø§Ø­

            data.forEach(item => {
                // Ø§Ù„Ø¨Ø­Ø« Ø¹Ù† Ø§Ù„Ø£Ø¹Ù…Ø¯Ø© Ø§Ù„ØµØ­ÙŠØ­Ø© Ø¨Ø´ÙƒÙ„ Ù…Ø±Ù†
                const categoryKey = findKey(item, 'Ø§Ù„ØªØµÙ†ÙŠÙ');
                const nameKey = findKey(item, 'Ø§Ù„ØµÙ†Ù');
                const priceKey = findKey(item, 'Ø§Ù„Ø³Ø¹Ø±');

                const category = categoryKey ? item[categoryKey] : null;
                const name = nameKey ? item[nameKey] : null;
                const price = priceKey ? item[priceKey] : null;


                if (category && category.trim() !== '' && name && name.trim() !== '') {
                    const cleanCat = category.trim();
                    if (!categories[cleanCat]) {
                        categories[cleanCat] = [];
                    }
                    categories[cleanCat].push({ name: name.trim(), price: price ? price.trim() : null });
                    itemsCount++;
                }
            });

            // Ø¹Ø±Ø¶ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª
            if (itemsCount === 0) {
                 menuContainer.innerHTML = `
                    <div class="error-msg">
                        <h3>Ù„Ø§ ØªÙˆØ¬Ø¯ Ø£ØµÙ†Ø§Ù Ù„Ù„Ø¹Ø±Ø¶ Ø­Ø§Ù„ÙŠØ§Ù‹ ğŸ™</h3>
                        <p>Ø§Ù„Ø±Ø¬Ø§Ø¡ Ø§Ù„ØªØ£ÙƒØ¯ Ù…Ù† Ø§Ù„Ø®Ø·ÙˆØ§Øª Ø§Ù„ØªØ§Ù„ÙŠØ©:</p>
                        <ul>
                            <li><strong>1. Ø§Ù„ØªØ£ÙƒØ¯ Ù…Ù† Ø§Ù„Ù†Ø´Ø±:</strong> ØªØ£ÙƒØ¯ Ø£Ù† Ù…Ù„Ù Ø¬ÙˆØ¬Ù„ Ø´ÙŠØª Ù…Ù†Ø´ÙˆØ± (Public) ÙˆØ£Ù† Ø§Ù„Ø±Ø§Ø¨Ø· ØµØ­ÙŠØ­.</li>
                            <li><strong>2. ØµØ­Ø© Ø§Ù„Ø£Ø¹Ù…Ø¯Ø©:</strong> ÙŠØ¬Ø¨ Ø£Ù† ØªÙƒÙˆÙ† Ø§Ù„Ø£Ø¹Ù…Ø¯Ø© ÙÙŠ Ø§Ù„Ø´ÙŠØª Ø¨Ø§Ù„Ø¶Ø¨Ø· (<strong>Ø§Ù„ØªØµÙ†ÙŠÙ</strong>ØŒ <strong>Ø§Ù„ØµÙ†Ù</strong>ØŒ <strong>Ø§Ù„Ø³Ø¹Ø±</strong>) ÙˆÙÙŠ Ø§Ù„ØµÙ Ø§Ù„Ø£ÙˆÙ„.</li>
                            <li><strong>3. Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„ÙØ§Ø±ØºØ©:</strong> ØªØ£ÙƒØ¯ Ø£Ù† Ø¹Ù…ÙˆØ¯ÙŠ "Ø§Ù„ØªØµÙ†ÙŠÙ" Ùˆ "Ø§Ù„ØµÙ†Ù" Ù„ÙŠØ³Ø§ ÙØ§Ø±ØºÙŠÙ† ÙÙŠ Ø§Ù„ØµÙÙˆÙ.</li>
                        </ul>
                    </div>
                `;
                return;
            }

            for (const [catName, items] of Object.entries(categories)) {
                // Ø¥Ù†Ø´Ø§Ø¡ Ù‚Ø³Ù… Ù„ÙƒÙ„ ØªØµÙ†ÙŠÙ
                const section = document.createElement('section');
                section.className = 'category-section';

                const title = document.createElement('div');
                title.className = 'category-title';
                title.innerText = catName;
                section.appendChild(title);

                const grid = document.createElement('div');
                grid.className = 'items-grid';

                items.forEach(item => {
                    const itemEl = document.createElement('div');
                    itemEl.className = 'menu-item';
                    
                    let priceDisplay = item.price ? item.price : '--';
                    
                    itemEl.innerHTML = `
                        <div class="item-name">${item.name}</div>
                        <div class="item-price">
                            ${priceDisplay} <span class="currency">Ø¬.Ù…</span>
                        </div>
                    `;
                    grid.appendChild(itemEl);
                });

                section.appendChild(grid);
                menuContainer.appendChild(section);
            }
        }

        // Ø¯Ø§Ù„Ø© Ø§Ù„Ø¨Ø­Ø«
        searchInput.addEventListener('input', (e) => {
            const term = e.target.value.toLowerCase();
            
            const filteredData = allData.filter(item => {
                const nameKey = findKey(item, 'Ø§Ù„ØµÙ†Ù');
                const catKey = findKey(item, 'Ø§Ù„ØªØµÙ†ÙŠÙ');

                const nameMatch = nameKey && item[nameKey] && item[nameKey].toLowerCase().includes(term);
                const catMatch = catKey && item[catKey] && item[catKey].toLowerCase().includes(term);
                
                return nameMatch || catMatch;
            });
            
            renderMenu(filteredData);
        });

        // Ø¨Ø¯Ø¡ Ø§Ù„ØªØ­Ù…ÙŠÙ„
        fetchMenu();
    </script>
</body>
</html>